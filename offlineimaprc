[general]
ui = TTYUI
accounts = NickSergeantFM
pythonfile=~/.mutt/offlineimap.py
fsync = False
maxsyncaccounts = 1

[Account NickSergeantFM]
localrepository = NickSergeantFM-Local
remoterepository = NickSergeantFM-Remote
status_backend = sqlite

[Repository NickSergeantFM-Local]
type = Maildir
localfolders = ~/.mail/nicksergeant-fastmail.fm
nametrans = lambda folder: {'drafts':  'INBOX.Drafts',
                            'sent':    'INBOX.Sent Items',
                            'archive': 'INBOX.Archive',
                            'junk': 'INBOX.Junk Mail',
                            'trash': 'INBOX.Trash',
                           }.get(folder, folder)

[Repository NickSergeantFM-Remote]
type = IMAP
maxconnections = 3
remotehost = mail.messagingengine.com
remoteuser = nicksergeant@fastmail.fm
remotepasseval = get_keychain_pass(account='nicksergeant@fastmail.fm', server='mail.messagingengine.com')
cert_fingerprint = fa86c1ca2d4f805e8fe7b8e7076a3ad2ccc52bb4
ssl = yes
nametrans = lambda folder: {'INBOX.Drafts':     'drafts',
                            'INBOX.Sent Items': 'sent',
                            'INBOX.Archive':    'archive',
                            'INBOX.Junk Mail':  'junk',
                            'INBOX.Trash':      'trash'
                           }.get(folder, folder)
